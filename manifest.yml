---
# Configuration:
# configured for EU10. For other landscapes, please adopt LANDSCAPE_APPS_DOMAIN in ../vars.yml
# If the route is occupied, you might need to change ID in ../vars.yml
applications:
# The sample application.
- name: spring-app
  instances: 1
  memory: 896M
  routes:
    - route: spring-app-i308633.cfapps.eu10.hana.ondemand.com
  path: target/spring-app.jar
  services:
    - xsuaa-authentication
    - destination

# Application Router as web server
- name: approuter-spring-app
  path: approuter
  buildpack: nodejs_buildpack
  memory: 128M
  routes:
    - route: spring-app-web-i308633.cfapps.eu10.hana.ondemand.com
  services:
    - xsuaa-authentication
  env:
    destinations: >
      [
        {"name":"token-destination",
         "url":"https://spring-app-i308633.cfapps.eu10.hana.ondemand.com",
         "forwardAuthToken": true}
      ]
...